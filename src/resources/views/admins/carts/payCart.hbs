<div class="container mt-4">
    <h1>Danh sách phiếu trả</h1>
    <table class="table">
        <thead>
            <th>#</th>
            <th>phone</th>
            <th>Ngày tạo</th>
            <th></th>
            <th></th>
        </thead>
        <tbody>
            {{#each cart}}
                <tr>
                    <td>{{sum @index 1}}</td>
                    <td>{{this.phone}}</td>
                    <td>{{dateFormat this.createAt}}</td>
                    <td>{{this.status}}</td>
                    <td>
                        <button class="btn btn-info btn-detail" data-id="{{this._id}}">Chi tiết</button>
                    </td>
                </tr>
            {{/each}}       
        </tbody>
    </table>
</div>

<script>
    document.addEventListener("DOMContentLoaded",function(){
        var btnConfirm = document.querySelectorAll('.btn-detail')
        btnConfirm.forEach((btn) => {
            btn.onclick = function(){
                var idItem = this.getAttribute("data-id")
                axios.get('/admin/rentals/pay/' + idItem + '/detail')
                    .then((res)=>{
                        location.assign('/admin/rentals/pay/' + idItem + '/detail')
                    })
                    .catch((err)=>{
                        console.log(err)
                    })
            }
        })
    })
</script>